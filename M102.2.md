# 2. Interfaces de Usuario y Escritorios

## 2.1 Instalación y configuración de X11

X11 (X.Org) es el sistema de ventanas tradicional en Linux. Aunque hoy existen entornos Wayland, LPIC-1 se basa en X11.

### Verificar si X11 está instalado
```
X -version
which Xorg
```

### Instalación de X11 (Ubuntu Server)
Instalar el servidor gráfico:
```
apt update
apt install xorg
```

Instalar un entorno base mínimo:
```
apt install xinit
```

Probar X11:
```
startx
```

### Archivos de configuración de X11
Directorio principal:
```
/etc/X11/
```

Archivos relevantes:
```
/etc/X11/xorg.conf
/etc/X11/xorg.conf.d/*.conf
```

Normalmente X11 auto-detecta hardware. Solo se crean configuraciones manuales si hay problemas (teclado, mouse, resolución, GPU).

Crear un archivo de configuración (solo si necesario):
```
Xorg -configure
```

Moverlo a:
```
/etc/X11/xorg.conf
```

### Logs de X11
```
/var/log/Xorg.0.log
```

Ver errores:
```
cat /var/log/Xorg.0.log | grep EE
```

---

## 2.2 Interfaz gráfica

Una Interfaz Gráfica de Usuario (GUI) se compone de:
- Servidor gráfico: **X11**
- Gestor de ventanas (WM)
- Entorno de escritorio (DE)

Ejemplos de gestores de ventanas:
- Openbox
- i3
- Fluxbox
- Metacity

Entornos de escritorio comunes:
- GNOME (predeterminado en Ubuntu Desktop)
- KDE Plasma
- Xfce
- LXDE/LXQt
- MATE

### Instalar un entorno completo (ejemplo)
GNOME:
```
apt install ubuntu-desktop
```

Xfce (liviano):
```
apt install xubuntu-desktop
```

LXDE:
```
apt install lubuntu-desktop
```

KDE Plasma:
```
apt install kde-standard
```

### Cambiar de entorno al iniciar sesión
Los display managers permiten seleccionar la sesión:

Common DMs:
- `gdm3`
- `lightdm`
- `sddm`

Instalar uno:
```
apt install lightdm
```

Reconfigurar display manager:
```
dpkg-reconfigure gdm3
```

### Configuración del display manager

Archivos de configuración típicos:
```
/etc/lightdm/lightdm.conf
/etc/gdm3/custom.conf
/etc/sddm.conf
```

Ver estado del DM:
```
systemctl status gdm3
```

Reiniciar el DM:
```
systemctl restart gdm3
```

Desactivar GUI (solo consola):
```
systemctl set-default multi-user.target
```

Activar GUI:
```
systemctl set-default graphical.target
```

---

## 2.3 Accesibilidad

Linux proporciona múltiples herramientas para accesibilidad, muchas integradas en los entornos de escritorio.

Opciones típicas de accesibilidad:
- Lectores de pantalla (screen reader)
- Zoom y magnificación
- Alto contraste
- Teclado en pantalla
- Sticky keys y slow keys

### Herramientas principales

### GNOME
Activar panel de accesibilidad:
```
gnome-control-center universal-access
```

Desde terminal, activar lector de pantalla:
```
orca
```

Activar zoom:
```
gsettings set org.gnome.desktop.a11y magnifier-enabled true
```

Activar alto contraste:
```
gsettings set org.gnome.desktop.interface gtk-theme 'HighContrast'
```

### KDE Plasma
Configuración desde:
```
systemsettings5
```
Ruta:
```
Settings → Accessibility
```

### X11: funcionalidades básicas
Teclas lentas (slow keys):
```
xkbset slowkeys
```

Teclas adhesivas (sticky keys):
```
xkbset sticky
```

Desactivar:
```
xkbset -sticky -slowkeys
```

### Atajos de accesibilidad comunes
- Activar lector de pantalla en GNOME: **Alt + Super + S**
- Zoom: **Super + Alt + 8** (dependiendo del entorno)
- Ampliación incremental: **Super + Scroll**

### Teclado en pantalla
GNOME:
```
apt install onboard
onboard
```

KDE:
```
apt install qtvirtualkeyboard
```

### Ver dispositivos de entrada accesibles
```
xinput list
```

### Activar mouse con teclado (MouseKeys)
```
gsettings set org.gnome.desktop.a11y.keyboard mousekeys-enable true
```

### Accesibilidad en consola (Linux TTY)
Incrementar tamaño de fuente:
```
sudo dpkg-reconfigure console-setup
```

Modo alto contraste en terminal:
- Usar temas oscuros o claros desde el emulador.
- Cambiar esquema de color en `.bashrc` si se desea.
